<html>
<meta charset="utf-8"/>

<!-- ----------------------------------------------------- -->
<head>
<title>Clink v$(CLINK_VERSION)</title>
<style>
    $(INCLUDE docs/clink.css)
    $(INCLUDE docs/atom-one-light.css)
</style>
<script type="text/javascript">
    $(INCLUDE docs/marked.min.js)
    $(INCLUDE docs/highlight.pack.js)

    function go()
    {
        // Convert markdown to HTML.
        var content = document.getElementById("content");
        var mds = document.getElementsByTagName("md");
        for (var i = 0; i < mds.length; ++i)
        {
            var md = mds[i];
            var div = document.getElementById(md.getAttribute("fill_id"));
            div.innerHTML = marked(md.innerText);
        }

        // Generate a table of contents from h* tags.
        var toc = document.getElementById("toc");
        toc.innerHTML = "";
        var headings = document.querySelectorAll("h1");
        for (var i = 0; i < headings.length; ++i)
        {
            var h = headings[i];

            var anchor = document.createElement("a");
            anchor.name = h.id;
            h.parentNode.insertBefore(anchor, h);

            var a = document.createElement("a");
            a.href = "#" + h.id;
            a.innerHTML = h.innerHTML;

            var div = document.createElement("div");
            div.appendChild(a);
            div.className = h.tagName;

            toc.appendChild(div);
        }

        hljs.initHighlighting();
    }
</script>
</head>

<!-- ----------------------------------------------------- -->
<body onload="go();">
    <div id="header">
        <div id="title">Clink v$(CLINK_VERSION)</div>
        <div id="url">
            <a href="http://github.com/chrisant996/clink">
                http://github.com/chrisant996/clink
            </a>
        </div>
        <div id="author">
            <a href="mailto:sparrowhawk996@gmail.com">Christopher Antos</a> (renovater)
        </div>
        <div id="author">
            <a href="http://twitter.com/choddlander">Martin Ridgers</a> (creator)
        </div>
    </div>
    <div id="toc"></div>
    <div id="content">
        <div class="section" id="documentation"></div>
        <h1 id="lua-api">Lua API Reference</h1>
        <div class="section" id="api">
            $(INCLUDE .build/docs/api_html)
        </div>
        <div class="section" id="changes"></div>
        <div class="section" id="credits"></div>
        <!-- All md tags must come last, otherwise they interfere with each other -->
        <md fill_id="credits" style="display: none;">
            $(INCLUDE docs/credits.md)
        </md>
        <md fill_id="documentation" style="display: none;">
            $(INCLUDE docs/clink.md)
        </md>
        <md fill_id="changes" style="display: none;">
            $(INCLUDE CHANGES)
        </md>
    </div>
</body>

</html>
